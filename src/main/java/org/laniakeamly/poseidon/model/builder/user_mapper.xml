<builder name="UserMapper">

    <mapper name="findUserByName">

        select *
        from
        user
        where
        1 = 1

        <choose>
            <if test="$req != username">
                <cond>and username3 = {{username3}}</cond>
                <cond>and username1 = {this:{username1}}</cond>
            </if>
            <else>
                <cond>
                    and username3 = {{username3}}
                </cond>
            </else>
        </choose>

    </mapper>

</builder>
