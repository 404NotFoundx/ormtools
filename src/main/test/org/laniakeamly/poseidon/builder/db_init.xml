<?xml version="1.0" encoding="UTF-8" ?>
<mapper name="init">

    <select name="findUserByName" result="UserModel">
        select * from user_model
        where 1=1
        <choose>
            <if test="username != null">
                and user_name = {{username}}
            </if>
            <else>
                and address = 'c28a7745-7508-48a0-820e-a5cd14748d24a'
            </else>
        </choose>
    </select>

    <update name="updateUserById">

        UPDATE `test`.`user_model`
        SET `user_name` = 'geg|-',
        WHERE
        <choose>
            <if test="id != null">
                `id` = {{id}}
            </if>
            <else>
                `id` = 6180
            </else>
        </choose>

    </update>

    <insert name="insertUserModel">
        INSERT INTO `user_model`(
            `user_name`,
            `google_email`,
            `password`,
            `user_age`,
            `address`,
            `uuid`,
            `product_name`,
            `create_time`
        )
        VALUES (
            {{user.address}},
            'c28a7745-7508-48a0-820e-a5cd14748d24',
            '123456',
            18,
            'c28a7745-7508-48a0-820e-a5cd14748d24',
            'c28a7745-7508-48a0-820e-a5cd14748d24',
            '敌敌畏',
            '2019-12-03 09:39:19'
        );
        <foreach index="index" item="user" collections="users">
            {{user.address}},{{user.username}}
        </foreach>
    </insert>

</mapper>